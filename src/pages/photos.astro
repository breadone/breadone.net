---
import PageLayout from "@/layouts/Base";
import Pocketbase from "pocketbase";

export const prerender = false

const meta = {
	title: "photography",
	description: "i take the photos,,",
};

const pb = new Pocketbase(import.meta.env.PUBLIC_PB_URL)

const photos = await pb.collection('photos').getFullList()
---

<PageLayout meta={meta}>
	<h1 class="title">photos!</h1>
	<p class="mb-6">if you want any of these as prints, chuck me an email and i'll see what i can do!</p>
	<div class="">
			<!--</ul>-->
			<table class="table-fixed">
				{
					photos.map(photo => (
						<tr class="py-3">
							<td class="pr-3">
								<a href={pb.files.getUrl(photo, photo.image)}>
									<img alt={photo.title == "" ? "Untitled" : photo.title} src={ pb.files.getUrl(photo, photo.image) } style=""/>
								</a>
							</td>
							<td class="align-super text-left">
								<b>{photo.title == "" ? "Untitled" : photo.title}</b>
								<p class="pt-2">ðŸ“Œ {photo.location}</p>
								<p class="align-baseline">ðŸ“· {photo.camera}</p>
							</td>
						</tr>
					))
				}
			</table>
	</div>
</PageLayout>